# PPT 제안서 내용

## Shell 구현
- 반복문을 통해 계속 “tush>”를 출력한 뒤 명령어를 받음
- 띄어쓰기를 포함하여 한 줄 자체를 입력 받기 위해 fgets 함수를 사용함
- 명령어와 옵션을 구분하기위해 받은 문자열을 strtok 함수를 사용하여 분리
- 오류가 발생하면 오류 메세지를 출력하고 Shell 반복문을 이어감
- 명령어를 받은 후 불필요한 공백 제거 (예시: "cmd1 & cmd2" -> "cmd1&cmd2")

## 절대경로/상대경로 사용 (PATH 환경변수 사용)

### PATH 환경변수 사용
- 명령어를 입력 받으면 환경변수에 지정된 디렉토리들을 순차적으로 탐색하여 실행 파일 찾음 (기본PATH = /bin)
콜론(:)으로 구분하여 지정
- Ex) PATH 환경변수가 ＂/bin:/usr/bin＂으로 설정되어 있다면, Shell은 먼저 “/bin” 디렉토리에서 명령어를 찾고 명령어가 없거나 실행 불가능하면, “/usr/bin” 디렉토리에서 명령어를 찾음

### 명령어 처리 방법
- 명령어 입력 시 fork() 함수를 사용하여 자식 프로세스 생성
자식 프로세스 내에서 execvp 함수를 사용하여 명령어 실행
(실행 후 자식 프로세스 종료)

## REDIRECTION
- dup2 함수를 통해 파일 디스크립터를 변경하여 redirection 구현
명령어 뒤에 “<“ , “>”, “>>” 기호를 사용하고 파일명을 입력하면 표준 입력(STDIN) 또는 표준 출력(STDOUT)을 입력한 파일로 redirection함
- ex) cat < input.txt (input.txt 파일을 read한 뒤 표준 입력 redirection)
         ls > output.txt (표준 출력을 output.txt에 덮어씌우며 write)
        ls >> output.txt (표준 출력을 output.txt에 append하며 write)

## Background job (‘&’)

### 백그라운드 작업 처리
- 사용자가 입력한 명령어가 & 기호로 끝나는지 확인 
- fork() 함수를 사용하여 자식 프로세스를 생성하여 명령어 실행
- & 기호로 끝나지 않는다면, 자식 프로세스가 종료될 때까지 대기
- & 기호로 끝난다면, 자식 프로세스를 기다리지 않고 자식프로세스의 PID를 출력한 뒤, Shell 반복문을 이어감
### 병렬 모드 (ex) “cmd1&cmd2” 입력시 cmd1 cmd2 명령어 동시 실행)
- 사용자가 입력한 명령어 중간에 & 기호가 있는지 확인
- 만약 & 기호가 존재한다면, & 기호를 기준으로 명령어를 분리
- 분리된 만큼 fork()를 호출해서 각각의 자식프로세스가 명령어들을 실행

## Batch mode
- Shell 실행 시 파일명을 인수로 받아서 실행한다면 파일 내용에   있는 명령어 실행

#### 두 가지 예외 처리
- Shell이 둘 이상의 파일로 호출될 때
      -> exit(1) 호출하여 종료
- 잘못된 배치 파일이 전달될 때(파일이 존재하지 않거나 읽을 수 없을 때)
    -> exit(1) 호출하여 종료

## 내장 명령 (exit, cd, path)의 사용

- exit: 사용자가 Shell에서 "exit"를 입력했을 때, Shell은 exit(0)을 호출하여 프로그램 종료
- cd: "cd" 명령은 <unistd.h>헤더에 있는 chdir() 함수 사용하여 구현. 사용자가 "cd <인수>" 명령 입력하면 Shell은 chdir() 함수를 통해 해당 디렉토리로 이동
- path: 사용자가 "path <인수> <인수>"를 입력하면 Shell은 미리 정의된 PATH 경로를 변경. 새로운 경로는 기존 경로를 대체
